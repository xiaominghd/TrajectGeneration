# 从轨迹中分析人群移动模式
## 1、对轨迹进行预处理并白描
---
* 将数据聚合成为“停留点+起始时间+终止时间”的形式。
![image](https://user-images.githubusercontent.com/33551862/168241379-781b189e-0ae4-417c-b51e-2fc5847a00cc.png)
* 展示区域的地理位置和城市特征。观察时间范围内不同城市的流量变化，计算均值-最大值-最小值，并对异常值进行分析
![image](https://user-images.githubusercontent.com/33551862/168242073-bd33b3e0-a700-4cd5-afee-a19b9d053072.png)
---
## 2、挖掘轨迹中的特征（低级特征LMIs）
---
* N_day:某一游客在城市中停留的总天数
* S    :第一次进入该城市到首次离开该城市的间隔，比N_day更精确
* R_g  :移动半径，l_c是轨迹中心的坐标

![image](https://user-images.githubusercontent.com/33551862/168244891-f51eb6f0-b60c-45cc-b255-74ea6eb12be7.png)
* D    :轨迹的直径，轨迹上两点的最远距离
---
## 3、再一次对数据进行处理
---
#### 将数据转化为锚点的形式
    step1 输入停留点形式的轨迹(A -> B -> C -> D -> E)，按照停留时间对停留点进行排序
    step2 对于停留时间最长的A，搜索A附近500m的点E，将A、E聚合为锚点r_1
    step3 将B、C聚合为锚点r_2，将D聚合为锚点r_3
    step4 锚点形式的轨迹为r_1 -> r_2 -> r_3 -> r_1
---
## 4、挖掘轨迹中的特征（高级特征HMIs）
---
* A_1 :轨迹锚点的总数。A_1越大，说明游客的轨迹分布越零散。
* A_2 :游客平均每天访问多少个锚点
* N_od:游客每天在不同锚点之间产生的trip数目
* H_1 :对于一条轨迹中的锚点概率分布，计算熵。

![image](https://user-images.githubusercontent.com/33551862/168253387-665dd064-78e6-4cf9-ad54-f5e3dd200e41.png)
* H_2 :对于一条轨迹中的OD对概率分布，计算熵
---
## 5、通过特征分解得到游客的移动模式
---
### 数据预处理
* 对于某一个体i产生的轨迹，计算以上九个特征，得到向量{x_1 , x_2 , x_3 ... x_9 }
* Min-Max归一化，Min_j和Max_j分别对应在全局范围内特征j的最小值/最大值

![image](https://user-images.githubusercontent.com/33551862/168255288-4ac634c1-1a76-4653-aa73-b0d317b4d7a1.png)


---
